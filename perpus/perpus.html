<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css"
        integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">


    <title>Perpustakaan</title>

    <style>
        .jumbotron {
            height: 150px;
            background-image:
                url(https://assets.pikiran-rakyat.com/crop/10x55:1901x1026/x/photo/2020/10/18/3543531924.jpg);
            background-size: cover;

        }
    </style>
</head>

<body>
    <div class="jumbotron jumbotron-fluid">
    </div>

    <div>
        <h1 style="font-family: impact;">Perpustakaan</h1>
    </div>

    <br><br>
    <div class="container">
        <div class="row row-cols-8 row-cols-md-5">
            <div class="col mb-4">
                <div class="card h-100 text-white bg-dark">
                    <img src="https://penerbitbukudeepublish.com/wp-content/uploads/2016/10/Sejarah-Pendidikan-Islam_depan.jpg"
                        class="card-img-top" alt="foto buku 'Sejarah Pendidikan Islam'">
                    <div class="card-body">
                        <p><b>Sejarah Pendidikan Islam</b></p>
                    </div>
                    <div class="card-footer">
                        <button class="btn btn-primary float-right" id="simpan" data-toggle="modal"
                            data-target="#penyimpananModal">Pinjam</button>
                    </div>
                </div>
            </div>
            <div class="col mb-4">
                <div class="card h-100 text-white bg-dark">
                    <img src="http://togamas.com/css/images/items/potrait/JPEGG_5756_Sejarah_Lengkap_Indonesia_Dari_Era_Klasik_hingga_Terkini.jpg"
                        class="card-img-top" alt="foto buku 'Sejarah Lengkap Indonesia'">
                    <div class="card-body">
                        <p><b>Sejarah lengkap Indonesia</b></p>
                    </div>
                    <div class="card-footer">
                        <button class="btn btn-primary float-right" id="simpan" data-toggle="modal"
                            data-target="#penyimpananModal">Pinjam</button>
                    </div>
                </div>
            </div>
            <div class="col mb-4">
                <div class="card h-100 text-white bg-dark">
                    <img src="https://www.bukukita.com/babacms/displaybuku/99398_f.jpg" class="card-img-top"
                        alt="foto buku tentang 'Misteri'">
                    <div class="card-body">
                        <p><b>Misteri-misteri Yang Tak Terpecahkan</b></p>
                    </div>
                    <div class="card-footer">
                        <button class="btn btn-primary float-right" id="simpan" data-toggle="modal"
                            data-target="#penyimpananModal">Pinjam</button>
                    </div>
                </div>
            </div>
            <div class="col mb-4">
                <div class="card h-100 text-white bg-dark">
                    <img src="https://www.gramedia.com/blog/content/images/2020/06/Rumah-Di-Perkebunan-Karet_gramedia.jpg"
                        class="card-img-top" alt="foto buku tentang 'Horror'">
                    <div class="card-body">
                        <p><b>Rumah Di Perkebunan Karet</b></p>
                    </div>
                    <div class="card-footer">
                        <button class="btn btn-primary float-right" id="simpan" data-toggle="modal"
                            data-target="#penyimpananModal">Pinjam</button>
                    </div>
                </div>
            </div>
            <div class="col mb-4">
                <div class="card h-100 text-white bg-dark">
                    <img src="https://www.bukukita.com/babacms/displaybuku/54448_f.jpg" class="card-img-top"
                        alt="foto buku tentang 'Lawakan'">
                    <div class="card-body">
                        <p><b>Lawak Warung Kopi</b></p>
                    </div>
                    <div class="card-footer">
                        <button class="btn btn-primary float-right" id="simpan" data-toggle="modal"
                            data-target="#penyimpananModal">Pinjam</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="penyimpananModal" role="dialog" aria-labelledby="modalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Peminjam</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form>
                        <div class="form-group">
                            <label>Nama Peminjam</label>
                            <input type="text" class="form-control" id="nama_peminjam">
                            <label>Email</label>
                            <input type="email" class="form-control" id="email_peminjam">
                            <label>Buku Yang Dipinjam</label>
                            <input type="text" class="form-control" id="buku_pinjam"><br>
                            <label>Tanggal Pinjaman</label>
                            <input type="date" id="tanggal_pinjam" class="form-control"><br>
                            <label>Tanggal Pengembalian</label>
                            <input type="date" id="tanggal_balik" class="form-control"><br>
                            <button type="button" class="btn btn-outline-success btn-block" onclick="addpinjam()"
                                data-dismiss="modal">Pinjam</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="telatModal" role="dialog" aria-labelledby="modalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Sanksi Telat Pengembalian</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form>
                        <div class="form-group">
                            <p>Karena peminjam tidak mengembalikkan buku sampai melewati tanggal pengembalian,
                                peminjam akan diberikan sanksi yaitu membayar Rp. 5.000;
                            </p><br>
                            <label>Berapa hari peminjam tidak mengembalikkan buku dari tanggal
                                pengembalian?</label><br>
                            <input type="text" id="hari" class="form-control"><br>
                            <button type="button" class="btn btn-outline-danger float right"
                                onclick="hasilsanksi()">Hasil</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <div class="navbar float-right">
        <nav class="navbar navbar-light text-white bg-dark rounded">
            <form class="form-group">
                <label>Tanggal</label>
                <input type="date" id="tanggalsekarang" class="form-control"><br>
                <button type="button" class="btn btn-success float-right" onclick="telatpinjam()">OK</button>
            </form>
        </nav>
    </div>

    <div class="container">
        <table class="table mt-4 rounded bg-dark text-white">
            <thead>
                <tr>
                    <th scope="col">No</th>
                    <th scope="col">Nama Peminjam</th>
                    <th scope="col">Email</th>
                    <th scope="col">Buku Yang Dipinjam</th>
                    <th scope="col">Tanggal Pinjaman</th>
                    <th scope="col">Tanggal Pengembalian</th>
                    <th scope="col">Action</th>
                </tr>
            </thead>
            <tbody id="datapeminjam">
            </tbody>
        </table>
    </div>

    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>

    <script>
        var namapeminjam = []
        var namaemail = []
        var bukupinjaman = []
        var tanggalpinjam = []
        var tanggalbalik = []

        var data = document.getElementById('datapeminjam')
        var tanggal_sekarang = document.getElementById('tanggalsekarang')


        function datapinjam() {
            data.innerHTML = ''
            for (i = 0; i < namapeminjam.length; i++) {

                var nodata = i + 1

                datapeminjam.innerHTML +=
                    ' <tr>' +
                    '<th>' + nodata + '</th>' +
                    '<td>' + namapeminjam[i] + '</td>' +
                    '<td>' + namaemail[i] + '</td>' +
                    '<td>' + bukupinjaman[i] + '</td>' +
                    '<td>' + tanggalpinjam[i] + '</td>' +
                    '<td>' + tanggalbalik[i] + '</td>' +
                    '<td>' +
                    '<button id="denda" class="btn btn-danger" style="display:none;" data-toggle="modal" data-target ="#telatModal"> Telat </button>' +
                    '<button class="btn btn-success" onclick="bukubalik(' + i + ')">Dikembalikan</button>' +
                    '</td>' +
                    '</tr>'
            }

        }
        datapinjam()

        function addpinjam() {
            var nama_peminjambaru = document.getElementById('nama_peminjam').value
            var nama_emailbaru = document.getElementById('email_peminjam').value
            var buku_peminjambaru = document.getElementById('buku_pinjam').value
            var tanggal_pinjambaru = document.getElementById('tanggal_pinjam').value
            var tanggal_balikbaru = document.getElementById('tanggal_balik').value

            namapeminjam.push(nama_peminjambaru)
            namaemail.push(nama_emailbaru)
            bukupinjaman.push(buku_peminjambaru)
            tanggalpinjam.push(tanggal_pinjambaru)
            tanggalbalik.push(tanggal_balikbaru)

            swal({
                title: "Buku Dipinjam",
                icon: "success",
                button: "ok"

            });

            datapinjam()

        }

        function telatpinjam() {

            var d1 = tanggal_sekarang;
            var d2 = tanggalbalik;

            if (d1 > d2) {
                document.getElementById('denda').style.display = 'block'
            } else {}


        }

        function bukubalik(id) {

            namapeminjam.splice(id, 1)
            namaemail.splice(id, 1)
            bukupinjaman.splice(id, 1)
            tanggalpinjam.splice(id, 1)
            tanggalbalik.splice(id, 1)

            swal({
                title: "Buku Telah Dikembalikkan",
                icon: "success",
                button: "ok"

            });

            datapinjam()

        }

        function hasilsanksi() {

            var day = document.getElementById('hari').value
            swal({
                title: "Bayar",
                title: 5000 * day,
                button: "ok"

            });
        }
    </script>



    <!-- Optional JavaScript; choose one of the two! -->

    <!-- Option 1: jQuery and Bootstrap Bundle (includes Popper) -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
        integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous">
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-Piv4xVNRyMGpqkS2by6br4gNJ7DXjqk09RmUpJ8jgGtD7zP9yug3goQfGII0yAns" crossorigin="anonymous">
    </script>

    <!-- Option 2: Separate Popper and Bootstrap JS -->
    <!--
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js" integrity="sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF" crossorigin="anonymous"></script>
    -->
</body>

</html>